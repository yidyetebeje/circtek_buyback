<div class="table-wrapper">
  @if (report(); as r) {
    <!-- Print Buttons -->
    <div class="print-btns-div no-print" style="padding-right: 15px;padding-left: 15px;margin-right: auto;margin-left: auto;margin-top:20px;margin-bottom:20px;">
      <div style="margin-right: -15px; margin-left: -15px;">
        <div style="flex: 0 0 100%;max-width:100%;">
          <button class="btn btn-dark-custom btn-sm" (click)="print()">
            <lucide-icon [img]="Printer" class="w-4 h-4"></lucide-icon>
          </button>
          <button class="btn btn-dark-custom btn-sm" (click)="downloadPdf()">
            <lucide-icon [img]="Download" class="w-4 h-4"></lucide-icon>
          </button>
        </div>
      </div>
    </div>

    <!-- PDF Table -->
    <div #pdfTable style="font-family: arial !important;">
      <app-diagnostic-report-template
        [report]="r"
        [logoUrl]="logoUrl()"
        [qrCodeDataUrl]="qrCodeDataUrl()"
        [encodedReportId]="encodedReportId()"
        [showPrintButtons]="false"
      />
    </div>
  } @else {
    <div class="p-6 text-center text-base-content/60">
      @if(loading()) {
        <span class="loading loading-spinner"></span>
        <p>Loading report...</p>
      } @else {
        <p>Report not found.</p>
      }
    </div>
  }
</div>